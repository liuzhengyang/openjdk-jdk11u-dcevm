Index: make/launcher/Launcher-jdk.jcmd.gmk
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/make/launcher/Launcher-jdk.jcmd.gmk b/make/launcher/Launcher-jdk.jcmd.gmk
--- a/make/launcher/Launcher-jdk.jcmd.gmk	(revision 28b9ff63283cd652908cbb2955bf10360f717030)
+++ b/make/launcher/Launcher-jdk.jcmd.gmk	(revision 78ff8c9be8614070e21e8f71954c4e6178d11bec)
@@ -29,7 +29,8 @@
     MAIN_CLASS := sun.tools.jinfo.JInfo, \
     JAVA_ARGS := \
         -Dsun.jvm.hotspot.debugger.useProcDebugger \
-        -Dsun.jvm.hotspot.debugger.useWindbgDebugger, \
+        -Dsun.jvm.hotspot.debugger.useWindbgDebugger \
+        -XX:HotswapAgent=disabled, \
     MACOSX_PRIVILEGED := true, \
 ))
 
@@ -37,28 +38,33 @@
     MAIN_CLASS := sun.tools.jmap.JMap, \
     JAVA_ARGS := \
         -Dsun.jvm.hotspot.debugger.useProcDebugger \
-        -Dsun.jvm.hotspot.debugger.useWindbgDebugger, \
+        -Dsun.jvm.hotspot.debugger.useWindbgDebugger \
+        -XX:HotswapAgent=disabled, \
     MACOSX_PRIVILEGED := true, \
 ))
 
 $(eval $(call SetupBuildLauncher, jps, \
     MAIN_CLASS := sun.tools.jps.Jps, \
+    JAVA_ARGS := -XX:HotswapAgent=disabled, \
 ))
 
 $(eval $(call SetupBuildLauncher, jstack, \
     MAIN_CLASS := sun.tools.jstack.JStack, \
     JAVA_ARGS := \
         -Dsun.jvm.hotspot.debugger.useProcDebugger \
-        -Dsun.jvm.hotspot.debugger.useWindbgDebugger, \
+        -Dsun.jvm.hotspot.debugger.useWindbgDebugger \
+        -XX:HotswapAgent=disabled, \
     MACOSX_PRIVILEGED := true, \
 ))
 
 $(eval $(call SetupBuildLauncher, jstat, \
     MAIN_CLASS := sun.tools.jstat.Jstat, \
+    JAVA_ARGS := -XX:HotswapAgent=disabled, \
 ))
 
 $(eval $(call SetupBuildLauncher, jcmd, \
     MAIN_CLASS := sun.tools.jcmd.JCmd, \
+    JAVA_ARGS := -XX:HotswapAgent=disabled, \
 ))
 
 # Hook to include the corresponding custom file, if present.
Index: src/hotspot/share/runtime/globals.hpp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/hotspot/share/runtime/globals.hpp b/src/hotspot/share/runtime/globals.hpp
--- a/src/hotspot/share/runtime/globals.hpp	(revision 28b9ff63283cd652908cbb2955bf10360f717030)
+++ b/src/hotspot/share/runtime/globals.hpp	(revision 78ff8c9be8614070e21e8f71954c4e6178d11bec)
@@ -2698,7 +2698,7 @@
           "Must be activated by UseHotswapDeoptExclusion."                  \
           "default value=<java,jdk without dynamic java/jdk classes>")      \
                                                                             \
-  product(ccstr, HotswapAgent, "disabled",                                  \
+  product(ccstr, HotswapAgent, "fatjar",                                  \
           "Specify HotswapAgent image to be used."                          \
           "disabled: hotswap agent is disabled (default)"                   \
           "fatjar: full HA. Use integrated hotswap-agent.jar"               \
